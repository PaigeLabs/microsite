<div class="jumbotron">
    <h2>Let Us Know<br/>
        <small>When & where you'd like to learn</small></h2>
</div>

<div class="row marketing" ng-controller="RegisterCtrl">
    <p class="register-description pull-left">
        Fill out the form to the right to be notified when classes will be in your area.
    </p>
    <form novalidate class="form narrow-form pull-right" name="form" ng-submit="register(form)">

        <div class="form-group" ng-class="{ 'has-success': form.class.$valid && submitted,
                                          'has-error': form.class.$invalid && submitted }">
            <label>Class</label>
            <select class="form-control" ng-model="user.class" name="class" ng-options="c.name as c.name for c in classes" required></select>
            <p class="help-block" ng-show="form.class.$error.required && submitted">
                A class is required
            </p>
        </div>

        <div class="form-group" ng-class="{ 'has-success': form.name.$valid && submitted,
                                          'has-error': form.name.$invalid && submitted }">
            <label>Name</label>

            <input type="text" name="name" class="form-control" ng-model="user.name" required/>
            <p class="help-block" ng-show="form.name.$error.required && submitted">
                A name is required
            </p>
        </div>

        <div class="form-group" ng-class="{ 'has-success': form.email.$valid && submitted,
                                          'has-error': form.email.$invalid && submitted }">
            <label>Email</label>

            <input type="email" name="email" class="form-control" ng-model="user.email" required  mongoose-error/>
            <p class="help-block" ng-show="form.email.$error.email && submitted">
                Doesn't look like a valid email.
            </p>
            <p class="help-block" ng-show="form.email.$error.required && submitted">
                What's your email address?
            </p>
            <p class="help-block" ng-show="form.email.$error.mongoose">
                {{ errors.email }}
            </p>
        </div>

        <div class="form-group" ng-class="{ 'has-success': form.city.$valid && submitted,
                                          'has-error': form.city.$invalid && submitted }">
            <label>City</label>

            <input type="text" name="city" class="form-control" ng-model="user.city" required/>
            <p class="help-block" ng-show="form.city.$error.required && submitted">
                A city is required
            </p>
        </div>

        <div class="form-group" ng-class="{ 'has-success': form.state.$valid && submitted,
                                          'has-error': form.state.$invalid && submitted }">
            <label>State</label>

            <select class="form-control" ng-model="user.state" name="state" ng-options="s.abbreviation as s.name for s in states" required></select>
            <p class="help-block" ng-show="form.state.$error.required && submitted">
                A state is required
            </p>
        </div>

        <button ng-disabled="form.$invalid">Notify Me</button>

    </form>
</div>
